<div class="p-4">
  <h1 class="mb-4">{data.todoDetail.title}</h1>
  <h3 class="text-dark">{data.todoDetail.description}</h3>
  <div class="flex flex-row">
    {#each data.todoDetail.todos as todo}
    <div class="shadow-lg rounded w-1/4 p-4 mr-4">
      <div>{todo.name}</div>
      <div>{todo.description}</div>
    </div>
    {/each}
  </div>
</div>

<script>
  export default {
    async preload({ params, query }) {
      const res = await this.fetch(`todos/${params.slug}.json`)
      const data = await res.json()

      if (res.status === 200) {
        return { data }
      } else {
        this.error(res.status, data.message)
      }
    }
  }
</script>

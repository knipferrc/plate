<div class="px-2 pt-2">
  <div class="flex flex-wrap -mx-2">
    <div class="w-full sm:w-full md:w-1/2 lg:w-1/2 px-2 mb-2">
      <TodosPanel todos="{data.todos}" />
    </div>
    <div class="w-full sm:w-full md:w-1/2 lg:w-1/2 px-2 mb-2">
      <AppPanel title="Reminders"> reminders </AppPanel>
    </div>
  </div>
</div>
<div class="px-2 pt-2">
  <div class="flex flex-wrap -mx-2">
    <div class="w-full sm:w-full md:w-1/2 lg:w-1/2 px-2 mb-2">
      <AppPanel title="Notes"> notes </AppPanel>
    </div>
    <div class="w-full sm:w-full md:w-1/2 lg:w-1/2 px-2 mb-2">
      <AppPanel title="Events"> events </AppPanel>
    </div>
  </div>
</div>

<script>
  import { goto } from '../../../__sapper__/client'

  export default {
    components: {
      AppPanel: '../../components/AppPanel.html',
      TodosPanel: './_components/TodosPanel.html'
    },
    async preload({ params, query }) {
      const res = await this.fetch(`dashboard.json`)
      const data = await res.json()
      return {
        data
      }
    },
    methods: {
      goToDetailView(id) {
        goto(`/todos/${id}`)
      }
    }
  }
</script>

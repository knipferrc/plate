<script>
  import { faTh } from '@fortawesome/free-solid-svg-icons/faTh';

  import ClickOutside from '../../../components/ClickOutside';
  import Icon from '../../../components/Icon';

  import MainMenu from './MainMenu';

  let triggerEl;
  let menuOpen = false;

  function toggleMenu() {
    menuOpen = !menuOpen;
  }

  function closeMenu() {
    menuOpen = false;
  }
</script>

<nav
  class="flex items-center w-full justify-between h-12 fixed z-10 left-0
  bg-blue-500">
  <div class="flex items-center h-full">
    <div class="w-16 h-full flex justify-center items-center bg-gray-700">
      <div class="flex text-3xl mb-2">üçõ</div>
    </div>
    <div class="ml-4 text-2xl uppercase font-semibold text-white">Plate</div>
  </div>
  <div class="flex items-center h-full pr-4">
    <div
      bind:this={triggerEl}
      class="ml-4 cursor-pointer"
      aria-label="main menu"
      role="button"
      on:click={toggleMenu}>
      <Icon width="1.5em" height="1.5em" fill="#fff" icon={faTh} />
    </div>
    {#if menuOpen}
      <ClickOutside on:clickoutside={closeMenu} exclude={[triggerEl]}>
        <MainMenu />
      </ClickOutside>
    {/if}
  </div>
</nav>
